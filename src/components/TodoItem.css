/* Usar variables CSS (Custom Properties) para una fácil tematización y mantenimiento */
:root {
  /* Colores base */
  --primary-color: #2196f3;
  --danger-color: #f44336;
  --danger-color-dark: #d32f2f;
  --warning-color: #ff9800;
  --warning-color-dark: #e68a00;
  --success-color: #4caf50;
  --success-color-dark: #43a047;
  --neutral-color: #9e9e9e;
  --neutral-color-dark: #757575;
  --text-color-dark: #333;
  --text-color-light: white;
  --text-color-completed: #888;
  --border-color: #eee;
  --background-light: #fff;
  --background-completed: #e0f7fa;

  /* Sombras y bordes */
  --border-radius: 4px;
  --box-shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
  --box-shadow-md: 0 2px 10px rgba(0,0,0,0.15);
  --focus-shadow-color: rgba(33, 150, 243, 0.2);

  /* Espaciado */
  --spacing-sm: 8px;
  --spacing-md: 10px;
  --spacing-lg: 15px;

  /* Tipografía */
  --font-size-sm: 0.9em;
  --font-size-base: 1em;
  --font-size-lg: 1.1em;

  /* Transiciones */
  --transition-speed: 0.3s ease;
}

.todo-item {
  position: relative; /* Clave para que el popover se posicione correctamente */
  display: flex;
  align-items: center;
  padding: 10px;
  background-color: #fff;
  border-bottom: 1px solid #eee;
  margin-bottom: var(--spacing-sm);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow-sm);
  transition: background-color var(--transition-speed);
}

.todo-item.completed {
  background-color: #e0f7fa; /* Un color diferente para tareas completadas */
}

.todo-item input[type="checkbox"] {
  margin-right: var(--spacing-lg);
  transform: scale(1.2); /* Hace el checkbox un poco más grande */
}

.todo-item span {
  flex-grow: 1;
  font-size: var(--font-size-lg);
  color: var(--text-color-dark);
  cursor: pointer; /* Indica que el texto es interactivo */
}

.todo-item.completed span {
  text-decoration: line-through;
  color: var(--text-color-completed);
}

.todo-item .edit-input {
  flex-grow: 1;
  padding: var(--spacing-sm) var(--spacing-md);
  border: 1px solid var(--primary-color);
  border-radius: var(--border-radius);
  font-size: var(--font-size-lg);
  margin-right: var(--spacing-md);
  box-shadow: 0 0 0 2px var(--focus-shadow-color);
  outline: none; /* Quitar el outline por defecto */
}

.todo-actions {
  display: flex;
  position: relative; /* Clave para que el popover se posicione dentro de este div */
  gap: var(--spacing-sm);
  margin-left: var(--spacing-md);
  align-items: center;
}

/* Base para todos los botones de acción en todo-item para evitar repeticiones */
.todo-actions button {
  border: none;
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--border-radius);
  cursor: pointer;
  font-size: var(--font-size-sm);
  transition: background-color var(--transition-speed);
  color: var(--text-color-light);
  white-space: nowrap; /* Evita que el texto del botón se rompa en varias líneas */
}

/* Colores específicos para cada botón */
.delete-button { background-color: var(--danger-color); }
.delete-button:hover { background-color: var(--danger-color-dark); }

.edit-button {
  background-color: var(--warning-color);
}
.edit-button:hover {
  background-color: var(--warning-color-dark);
}

.save-button {
  background-color: var(--success-color);
}
.save-button:hover {
  background-color: var(--success-color-dark);
}

.cancel-button {
  background-color: var(--neutral-color);
}
.cancel-button:hover {
  background-color: var(--neutral-color-dark);
}

/* Añadir estilos para el texto deshabilitado mientras el popover está activo */
.todo-item .disabled-text {
  opacity: 0.6;
  pointer-events: none; /* Evita que el doble click funcione */
}

/* Anula el tachado del texto cuando el popover está activo en una tarea completada */
.todo-item.completed .disabled-text {
  text-decoration: none;
  /* Opcional: restaurar el color original del texto para mayor claridad */
  color: var(--text-color-dark);
}

/* --- ESTILOS PARA EL POPOVER DE CONFIRMACIÓN --- */
.confirm-popover {
  position: absolute; /* Para que se superponga */
  right: 0;
  background-color: var(--background-light);
  padding: var(--spacing-md);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow-md);
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  z-index: 10; /* Asegura que esté por encima de otros elementos */
  white-space: nowrap; /* Evita saltos de línea */
}

.confirm-popover span {
  font-size: var(--font-size-base);
  color: var(--text-color-dark);
}

.confirm-popover button {
  padding: var(--spacing-sm);
  font-size: var(--font-size-sm);
}

.confirm-popover .confirm-yes {
  background-color: var(--danger-color);
}
.confirm-popover .confirm-yes:hover {
  background-color: var(--danger-color-dark);
}

.confirm-popover .confirm-no {
  background-color: var(--neutral-color);
}
.confirm-popover .confirm-no:hover {
  background-color: var(--neutral-color-dark);
}